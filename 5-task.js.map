{"version":3,"file":"5-task.js","sources":["../src/js/5-task.js"],"sourcesContent":["/**\n * Напишемо клас Timer, який буде\n * запускати та зупиняти відлік часу\n */\n\nconst startBtn = document.querySelector('button[data-action-start]');\nconst stopBtn = document.querySelector('button[data-action-stop]');\nconst clockface = document.querySelector('.clockface');\n\nclass Timer {\n  constructor({ onTick }) {\n    this.isActive = false;\n    this.onTick = onTick;\n    this.intervalId = null;\n\n    this.init();\n  }\n\n  init() {\n    const time = this.getTimeComponents(0);\n    this.onTick(time);\n  }\n\n  stop() {\n    clearInterval(this.intervalId);\n    this.isActive = false;\n    const time = this.getTimeComponents(0);\n    this.onTick(time);\n  }\n\n  start() {\n    if (this.isActive) {\n      return;\n    }\n\n    this.isActive = true;\n    const startTime = Date.now();\n\n    this.intervalId = setInterval(() => {\n      const currentTime = Date.now();\n      const deltaTime = currentTime - startTime;\n      const time = this.getTimeComponents(deltaTime);\n\n      this.onTick(time);\n    }, 1000);\n  }\n\n  getTimeComponents(time) {\n    const hours = this.pad(\n      Math.floor((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))\n    );\n    const mins = this.pad(Math.floor((time % (1000 * 60 * 60)) / (1000 * 60)));\n    const secs = this.pad(Math.floor((time % (1000 * 60)) / 1000));\n\n    return { hours, mins, secs };\n  }\n\n  pad(value) {\n    return String(value).padStart(2, '0');\n  }\n}\n\nconst timer = new Timer({\n  onTick: updateClockfase,\n});\n\nstartBtn.addEventListener('click', timer.start.bind(timer));\nstopBtn.addEventListener('click', timer.stop.bind(timer));\n\nfunction updateClockfase({ hours, mins, secs }) {\n  clockface.textContent = `${hours}:${mins}:${secs}`;\n}\n\n// let isActive = false;\n// let intervalId = null;\n\n// init();\n\n// function start() {\n//     if(isActive) {\n//         return;\n//     }\n\n//     isActive = true;\n//     const startTime = Date.now();\n\n//     intervalId = setInterval(() => {\n//         const currentTime = Date.now();\n//         const deltaTime = currentTime - startTime;\n//         const time = getTimeComponents(deltaTime);\n\n//         onTick(time);\n//     }, 1000)\n// }\n\n// function getTimeComponents(time) {\n//     const hours = pad(Math.floor((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)))\n//     const mins = pad(Math.floor((time % (1000 * 60 * 60)) / (1000 * 60)));\n//     const secs = pad(Math.floor((time % (1000 * 60)) / 1000));\n\n//     return { hours, mins, secs };\n// }\n\n// function pad(value) {\n//     return String(value).padStart(2, \"0\");\n// }\n\n// function stop() {\n//     clearInterval(intervalId);\n//     isActive = false;\n//     const time = getTimeComponents(0);\n//     onTick(time);\n// }\n\n// function init() {\n//     const time = getTimeComponents(0);\n//     onTick(time);\n// }\n\n// function onTick({ hours, mins, secs }) {\n//     clockface.textContent = `${hours}:${mins}:${secs}`;\n// }\n\n// startBtn.addEventListener(\"click\", start);\n// stopBtn.addEventListener(\"click\", stop);\n"],"names":["startBtn","stopBtn","clockface","Timer","onTick","time","startTime","deltaTime","hours","mins","secs","value","timer","updateClockfase"],"mappings":"wFAKA,MAAMA,EAAW,SAAS,cAAc,2BAA2B,EAC7DC,EAAU,SAAS,cAAc,0BAA0B,EAC3DC,EAAY,SAAS,cAAc,YAAY,EAErD,MAAMC,CAAM,CACV,YAAY,CAAE,OAAAC,GAAU,CACtB,KAAK,SAAW,GAChB,KAAK,OAASA,EACd,KAAK,WAAa,KAElB,KAAK,KAAI,CACV,CAED,MAAO,CACL,MAAMC,EAAO,KAAK,kBAAkB,CAAC,EACrC,KAAK,OAAOA,CAAI,CACjB,CAED,MAAO,CACL,cAAc,KAAK,UAAU,EAC7B,KAAK,SAAW,GAChB,MAAMA,EAAO,KAAK,kBAAkB,CAAC,EACrC,KAAK,OAAOA,CAAI,CACjB,CAED,OAAQ,CACN,GAAI,KAAK,SACP,OAGF,KAAK,SAAW,GAChB,MAAMC,EAAY,KAAK,MAEvB,KAAK,WAAa,YAAY,IAAM,CAElC,MAAMC,EADc,KAAK,MACOD,EAC1BD,EAAO,KAAK,kBAAkBE,CAAS,EAE7C,KAAK,OAAOF,CAAI,CACjB,EAAE,GAAI,CACR,CAED,kBAAkBA,EAAM,CACtB,MAAMG,EAAQ,KAAK,IACjB,KAAK,MAAOH,EAAQ,MAAyB,IAAe,CAClE,EACUI,EAAO,KAAK,IAAI,KAAK,MAAOJ,GAAQ,IAAO,GAAK,KAAQ,IAAO,GAAG,CAAC,EACnEK,EAAO,KAAK,IAAI,KAAK,MAAOL,GAAQ,IAAO,IAAO,GAAI,CAAC,EAE7D,MAAO,CAAE,MAAAG,EAAO,KAAAC,EAAM,KAAAC,EACvB,CAED,IAAIC,EAAO,CACT,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACrC,CACH,CAEA,MAAMC,EAAQ,IAAIT,EAAM,CACtB,OAAQU,CACV,CAAC,EAEDb,EAAS,iBAAiB,QAASY,EAAM,MAAM,KAAKA,CAAK,CAAC,EAC1DX,EAAQ,iBAAiB,QAASW,EAAM,KAAK,KAAKA,CAAK,CAAC,EAExD,SAASC,EAAgB,CAAE,MAAAL,EAAO,KAAAC,EAAM,KAAAC,CAAI,EAAI,CAC9CR,EAAU,YAAc,GAAGM,CAAK,IAAIC,CAAI,IAAIC,CAAI,EAClD"}